---
title: "并查集模版"
date: "2026-02-01 12:18:07"
author: shouw
katex: true
categories:
  - 模版
email: KijinSeija@shouw.blog
readmore: true
tags:
  - 编程
  - 算法竞赛
  - 模版
---

## 并查集模版

```cpp
#include <bits/stdc++.h>
#define int long long
#define endl '\n'

using namespace std;

struct DSU {

	vector<int> parent;
	vector<int> sz;

	DSU(int n) {
		parent.resize(n + 1);
		sz.resize(n + 1, 1);
		iota(parent.begin(), parent.end(), 0);
	}

	int find(int data) {
		if (data == parent[data]) return data;
		return parent[data] = find(parent[data]);
	}

	void unite(int u, int v) {
		
		int rootX = find(u);
		int rootY = find(v);

		if (rootX != rootY) {
			if (sz[rootX] < sz[rootY]) {
				swap(rootX, rootY);
			}
			parent[rootY] = rootX;
			sz[rootX] += sz[rootY];
		}
	}

	bool connected(int u, int v) {
		return find(u) == find(v);
	}

	int size(int u) {
		return sz[find(u)];
	}

};
```